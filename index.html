<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prince Sreng</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="image/fav.ico" type="image/x-icon">
</head>
<body>
    <div class="container mt-5">
        <h2 class="text-center">Prince Sreng</h2>
        <div class="row justify-content-center mt-4">
            <div class="col-md-6">
                <div class="form-group mb-3">
                    <label for="binaryInput" class="form-label">Enter Binary Code:</label>
                    <textarea class="form-control" id="binaryInput" rows="3" placeholder="e.g. 01001000 01100101 01101100 01101100 01101111"></textarea>
                </div>
                <button class="btn btn-primary w-100" onclick="convertBinaryToText()">Convert to Text</button>
                <div class="form-group mt-3">
                    <label for="textOutput" class="form-label">Text Output:</label>
                    <textarea class="form-control" id="textOutput" rows="3" readonly></textarea>
                </div>
                <!-- Question section (hidden initially) -->
                <div id="questionSection" class="mt-4" style="display: none;">
                    <h1 class="text-center">តើអ្នកស្រឡាញ់ខ្ញុំវិញទេ?</h1>
                    <div class="d-flex justify-content-center">
                        <button id="yesButton" class="btn btn-success mx-2" onclick="showImageAlert()">Yes</button>
                        <button id="noButton" class="btn btn-danger mx-2" onmouseover="moveButton()" onclick="moveButton()">No</button>
                    </div>
                </div>
                <!-- <script>
                    function moveButton() {
                        var x = Math.random() * (window.innerWidth - document.getElementById('noButton').offsetWidth) - 85;
                        var y = Math.random() * (window.innerHeight - document.getElementById('noButton').offsetHeight) - 48;
                        document.getElementById('noButton').style.left = `${x}px`;
                        document.getElementById('noButton').style.top = `${y}px`;
                    }
                </script> -->
            </div>
        </div>
    </div>
     <!-- Bootstrap Modal for Image Alert -->
     <div class="modal fade" id="imageModal" tabindex="-1" aria-labelledby="imageModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="imageModalLabel">Special Message</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <div class="card">
                        <img src="/image/love.gif" class="card-img-top" alt="Special Image">
                        <div class="card-body">
                            <p class="card-text">Here's a special image for you!</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function convertBinaryToText() {
            const binaryInput = document.getElementById("binaryInput").value.trim();
            const binaryArray = binaryInput.split(" ");
            let textOutput = "";

            binaryArray.forEach(binary => {
                if (binary.match(/^[01]{8}$/)) { // Validate binary input (8 bits)
                    const decimal = parseInt(binary, 2);
                    textOutput += String.fromCharCode(decimal);
                } else {
                    textOutput += "សូមបញ្ចូលលេខកូដ ";
                }
            });

            document.getElementById("textOutput").value = textOutput;

            // Check if the converted text includes the word "love"
            if (textOutput.toLowerCase().includes("love")) {
                document.getElementById("questionSection").style.display = "block";
            } else {
                document.getElementById("questionSection").style.display = "none";
            }
        }

        function showImageAlert() {
            const imageModal = new bootstrap.Modal(document.getElementById('imageModal'));
            imageModal.show();
        }

        function disableNoButton() {
            const noButton = document.getElementById("noButton");
            noButton.disabled = true;
        }
        function moveButton() {
                        var x = Math.random() * (window.innerWidth - document.getElementById('noButton').offsetWidth) - 85;
                        var y = Math.random() * (window.innerHeight - document.getElementById('noButton').offsetHeight) - 48;
                        document.getElementById('noButton').style.left = `${x}px`;
                        document.getElementById('noButton').style.top = `${y}px`;
                    }
    </script>
</body>
</html>
